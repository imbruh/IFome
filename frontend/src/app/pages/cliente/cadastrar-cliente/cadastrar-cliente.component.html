<div class="container align-items-center d-flex justify-content-center">
    <div class="row col-md-10 tela">
        <mat-card class="p-1">
            <mat-card class="py-1 matcard">
                <div class="row d-flex justify-content-center text-center wrap">
                    <div class="col-6 d-flex formulario p-0 text-center">
                        <div class="row d-flex text-center m-0 p-0 w-100">     
                            <div class="col-12">
                                <div *ngIf="!ehFuncionario; else funcionario">
                                    <h1 class="mt-3">Cadastrar Cliente</h1>
                                    <hr>
                                </div>

                                <ng-template #funcionario>
                                    <h1 class="mt-3">Cadastrar Funcionario</h1>
                                    <hr>
                                </ng-template>
                
                                <form class="example-form" [formGroup]="formulario">
                                    <div *ngIf="!ehFuncionario; else funcionarioForm">
                                        <div class="row">
                                            <div class="col-lg-6 col-md-12 col-sm-12">
                                                <mat-form-field class="mat-form-field-pessoa">
                                                    <mat-label>Nome</mat-label>
                                                    <input matInput formControlName="nome" placeholder="Digite seu nome">
                                                    <mat-error *ngIf="getCampo('nome').hasError('required')">
                                                        O Nome é <strong>obrigatório</strong>.
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-6 col-md-12 col-sm-12">
                                                <mat-form-field class="mat-form-field-pessoa">
                                                    <mat-label>Data de Nascimento</mat-label>
                                                    <input matInput placeholder="DD/MM/AAAA" formControlName="dataNascimento" (keypress)="mascaraDataNascimento()" maxlength="10">
                                                    <mat-error *ngIf="getCampo('dataNascimento').hasError('required')">
                                                        A data de nascimento é <strong>obrigatória</strong>.
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        
                                            <div class="col-lg-6 col-md-12 col-sm-12">
                                                <mat-form-field class="mat-form-field-pessoa">
                                                    <mat-label>CPF *</mat-label>
                                                    <input matInput placeholder="000.000.000-00" formControlName="cpf" (keypress)="mascaraCpf()" maxlength="14">
                                                    <mat-error *ngIf="getCampo('cpf').hasError('required')">
                                                        O cpf é <strong>obrigatório</strong>.
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        
                                            <div class="col-lg-6 col-md-12 col-sm-12">
                                                <mat-form-field class="mat-form-field-pessoa">
                                                    <mat-label>Telefone</mat-label>
                                                    <input matInput formControlName="telefone" placeholder="Digite seu telefone">
                                                    <mat-error *ngIf="getCampo('telefone').hasError('required')">
                                                        O telefone é <strong>obrigatório</strong>.
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </div>

                                    <ng-template #funcionarioForm>
                                        <div class="row">
                                            <div class="col-lg-6 col-md-12 col-sm-12">
                                                <mat-form-field class="mat-form-field-pessoa">
                                                    <mat-label>CPF *</mat-label>
                                                    <input matInput placeholder="000.000.000-00" formControlName="cpf" (keypress)="mascaraCpf()" maxlength="14" (keyup.enter)="pesquisarPorCpf()">
                                                    <mat-icon matSuffix class="cpfPesquisar" (click)="pesquisarPorCpf()">search</mat-icon>
                                                    <mat-error *ngIf="getCampo('cpf').hasError('required')">
                                                        O CPF é <strong>obrigatório</strong>.
                                                    </mat-error>
                                                    <mat-error *ngIf="getCampo('cpf').hasError('minlength') || getCampo('cpf').hasError('maxlength')">
                                                        O cpf deve conter <strong>14 digitos</strong>.
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                            <div class="col-lg-6 col-md-12 col-sm-12">
                                                <mat-form-field class="mat-form-field-pessoa">
                                                    <mat-label>Nome</mat-label>
                                                    <input matInput formControlName="nome" placeholder="Digite seu nome">
                                                    <mat-error *ngIf="getCampo('nome').hasError('required')">
                                                        O Nome é <strong>obrigatório</strong>.
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        
                                            <div class="col-lg-6 col-md-12 col-sm-12">
                                                <mat-form-field class="mat-form-field-pessoa">
                                                    <mat-label>Data de nascimento</mat-label>
                                                    <input matInput formControlName="dataNascimento" placeholder="DD/MM/AAAA">
                                                    <mat-error *ngIf="getCampo('dataNascimento').hasError('required')">
                                                       A data de nascimento é <strong>obrigatória</strong>.
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        
                                            <div class="col-lg-6 col-md-12 col-sm-12">
                                                <mat-form-field class="mat-form-field-pessoa">
                                                    <mat-label>Telefone</mat-label>
                                                    <input matInput formControlName="telefone" placeholder="Digite seu telefone">
                                                    <mat-error *ngIf="getCampo('telefone').hasError('required')">
                                                        O telefone é <strong>obrigatório</strong>.
                                                    </mat-error>
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </ng-template>
                                    

                                    <div class="row">   
                                        <div class="text-start mt-1">
                                            <strong>Endereço</strong>
                                        </div>
                                        <div class="col-lg-4 col-md-12 col-sm-12 mt-1">
                                            <mat-form-field class="mat-form-field-pessoa">
                                                <mat-label>CEP *</mat-label>
                                                <input matInput formControlName="cep" maxlength="8" (keyup.enter)="pesquisarPorCep()">
                                                <mat-icon matSuffix class="cpfPesquisar" (click)="pesquisarPorCep()">search</mat-icon>
                                                <mat-error *ngIf="getCampo('cep').hasError('required')">
                                                    O Cep é <strong>obrigatório</strong>.
                                                </mat-error>
                                                <mat-error *ngIf="getCampo('cep').hasError('minlength') || getCampo('cep').hasError('maxlength')">
                                                    O cep deve conter <strong>8 digitos</strong>.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>        
                                        
                                        <div class="col-lg-6 col-md-12 col-sm-12 mt-1">
                                            <mat-form-field class="mat-form-field-pessoa">
                                                <mat-label>Rua</mat-label>
                                                <input matInput formControlName="rua">
                                                <mat-error *ngIf="getCampo('rua').hasError('required')">
                                                    A rua é <strong>obrigatória</strong>.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>             

                                        <div class="col-lg-2 col-md-12 col-sm-12 mt-1">
                                            <mat-form-field class="mat-form-field-pessoa">
                                                <mat-label>Numero</mat-label>
                                                <input matInput formControlName="numero">
                                                <mat-error *ngIf="getCampo('numero').hasError('required')">
                                                    O numero é <strong>obrigatório</strong>.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>  
                                        
                                        <div class="col-lg-4 col-md-12 col-sm-12 mt-1">
                                            <mat-form-field class="mat-form-field-pessoa">
                                                <mat-label>Bairro</mat-label>
                                                <input matInput formControlName="bairro">
                                                <mat-error *ngIf="getCampo('bairro').hasError('required')">
                                                    O bairro é <strong>obrigatório</strong>.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>            
   
                                        
                                        <div class="col-lg-4 col-md-12 col-sm-12 mt-1">
                                            <mat-form-field class="mat-form-field-pessoa">
                                                <mat-label>Cidade</mat-label>
                                                <input matInput formControlName="cidade">
                                                <mat-error *ngIf="getCampo('cidade').hasError('required')">
                                                    A cidade é <strong>obrigatória</strong>.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>  

                                        <div class="col-lg-4 col-md-12 col-sm-12 mt-1">
                                            <mat-form-field class="mat-form-field-pessoa">
                                                <mat-label>Estado</mat-label>
                                                <input matInput formControlName="estado">
                                                <mat-error *ngIf="getCampo('estado').hasError('required')">
                                                    O estado é <strong>obrigatório</strong>.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>  
                                    
                                        <div class="col-12 w-100">
                                            <mat-form-field class="w-100">
                                                <mat-label>Complemento</mat-label>
                                                <input matInput formControlName="complemento" placeholder="Digite algum complemento">
                                            </mat-form-field>
                                        </div>                             
                                    </div>

                                    <div class="row mt-2"  *ngIf="!ehFuncionario; else funcionarioMatricula">
                                        <div class="col-12 w-100">
                                            <mat-form-field class="w-100">
                                                <mat-label class="text-center">Email</mat-label>
                                                <input matInput type="email" formControlName="email" placeholder="Digite seu email">
                                                <mat-error *ngIf="getCampo('email').hasError('required')">
                                                    O Email é <strong>obrigatório</strong>.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-lg-6 col-md-12 col-sm-12 ">
                                            <mat-form-field class="w-100">
                                                <mat-label class="text-center">Senha</mat-label>
                                                <input matInput type="password" formControlName="senha" placeholder="Digite sua senha">
                                                <mat-error *ngIf="getCampo('senha').hasError('required')">
                                                    A senha é <strong>obrigatória</strong>.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-lg-6 col-md-12 col-sm-12">
                                            <mat-form-field class="w-100">
                                                <mat-label class="text-center">Confirmar senha *</mat-label>
                                                <input matInput type="password" formControlName="confirmacaoSenha" placeholder="Confirme sua senha">
                                                <mat-error *ngIf="getCampo('confirmacaoSenha').hasError('required')">
                                                    A confirmação da senha é <strong>obrigatória</strong>.
                                                </mat-error>
                                                <mat-error *ngIf="getCampo('confirmacaoSenha').hasError('noMatchPassword')">
                                                    A senha deve ser <strong>a mesma</strong> informada anteriormente.
                                                </mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                                             
                                    <ng-template #funcionarioMatricula>
                                        <div class="row d-flex justify-content-center">
                                            <div class="col-lg-6 col-md-12 col-sm-12 ">
                                                <mat-form-field class="w-100">
                                                    <mat-label class="text-center">Matrícula</mat-label>
                                                    <input matInput type="text" formControlName="matricula" placeholder="Digite sua matrícula">
                                                </mat-form-field>
                                            </div>
                                        
                                            <div class="col-lg-6 col-md-12 col-sm-12 ">
                                                <mat-form-field class="w-100">
                                                    <mat-label class="text-center">Senha</mat-label>
                                                    <input matInput type="password" formControlName="senha" placeholder="Digite sua senha">
                                                </mat-form-field>
                                            </div>
                                        </div>
                                    </ng-template>

                                    <div class="row mt-3">
                                        <div class="col-12">
                                            <button mat-raised-button color="accent" (click)="cadastrar()" class="mt-1 mb-2">Cadastrar</button>
                                        </div>
                                    </div>

                                </form>
                            </div>                   
                        </div>
                    </div>
                </div>
            </mat-card>
        </mat-card>
    </div>
</div>